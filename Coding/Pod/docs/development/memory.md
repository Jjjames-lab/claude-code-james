# 小宇宙深度学习助手 - 项目记忆

> **最后更新**：2026-01-20
> **项目状态**：65% 完成
> **开发模式**：5角色并行协作（基于 Claude Code）

---

## 📊 项目概况

### 产品定位
将播客音频转化为结构化知识的学习工具，专注于转录→展示→播放的核心链路。

### 核心功能
- 🎧 解析小宇宙播客链接
- 🎤 ASR 转录（词级时间戳）
- 📝 逐字稿展示与音频播放同步
- ✍️ AI 纠偏与笔记功能

### 技术栈
- **前端**：React + TypeScript + Tailwind CSS
- **后端**：Python + FastAPI + Playwright
- **存储**：LocalStorage（MVP 单用户）
- **ASR**：豆包ASR（主）+ 阿里云Qwen（备）

---

## ✅ 已完成的工作

### 1. 协作系统建立（2026-01-20）
- ✅ 5个角色的 README 文档（v2版本）
- ✅ 状态持久化机制（3级状态记录）
- ✅ 完整的项目文档体系
- ✅ 工作日志系统

### 2. 产品层面
- ✅ PRD v1.1 文档
- ✅ API 契约审核（发现并解决5个问题）
- ✅ 测试清单（7大类，40+测试用例）

### 3. 架构层面
- ✅ API 契约定义（4个核心接口）
- ✅ 前后端项目结构设计
- ✅ LocalStorage 数据模型
- ✅ ASR 切换机制规范
- ✅ 存储容量管理策略

### 4. UI 设计
- ✅ 设计系统定义（颜色、字体、间距、动效）
- ✅ 暗色模式优先方案
- ✅ Tailwind CSS 配置规范

### 5. 后端实现
- ✅ FastAPI 框架搭建
- ✅ 小宇宙 URL 解析接口
- ✅ Playwright 反爬虫处理
- ✅ 健康检查接口

### 6. 前端实现
- ✅ Vite + React + TypeScript 项目
- ✅ 音频播放器组件（播放/暂停、进度条、音量、跳转）
- ✅ 逐字稿展示组件（文字、说话人、时间戳、高亮）
- ✅ Zustand 状态管理
- ✅ Mock 数据和工具函数

---

## 🚧 当前阻塞点

| 问题 | 影响角色 | 解决方案 |
|------|---------|---------|
| 缺少豆包 API Key | 后端工程师 | 需要你提供 API Key |

---

## 📋 下一步待办

### ✅ 已分配任务（2026-01-20）

**前端工程师** - Phase 2 交互增强：
1. 点击逐字稿跳转播放位置
2. 播放时自动滚动到当前段落
3. 笔记选区功能
4. 笔记编辑器组件

**后端工程师** - ASR 准备工作：
1. 研究 PushToTalk 豆包 ASR 集成代码
2. 设计多引擎兜底策略架构
3. 准备 ASR 转录接口实现（等待 API Key）

**架构师** - 多引擎架构设计：
1. 多引擎兜底架构设计
2. 接口抽象层设计
3. 错误处理规范

**产品经理**：
1. 准备测试播客列表（4个不同类型）

---

## 🎯 项目目标

**MVP 1.0 验收标准**：
- ✅ 能够粘贴小宇宙链接并成功转录
- ✅ 逐字稿正常展示
- ✅ 播放器能正常播放音频
- 目标准确率：≥ 85%

---

## 📁 重要文件位置

### 快速查看
- `QUICK_START.md` - 30秒快速恢复指南
- `README.md` - 项目总览
- `_shared/00_project_status.md` - 实时项目状态

### 角色工作日志
- `产品经理/WORK_LOG.md`
- `架构师 Architect/WORK_LOG.md`
- `UI:UX Designer/WORK_LOG.md`
- `后端Backend/WORK_LOG.md`
- `前端 Frontend/WORK_LOG.md`

### 技术产出物
- `_shared/01_api_spec.json` - API 契约
- `_shared/02_design_tokens.md` - 设计规范
- `_shared/03_testing_checklist.md` - 测试清单
- `_shared/05_asr_switching_spec.md` - ASR 切换机制
- `_shared/06_storage_management_spec.md` - 存储容量管理

---

## 💡 产品方法论

**核心理念**："简单" - 专注于一个功能并做到极致

**产品三段论**：
1. 预测 - 预测市场趋势
2. 单点击穿 - 找到一个点站稳脚跟
3. All in - 投入所有资源

**行动原则**：
- 每个项目都追求极致的简单
- 有不清楚的地方先确认再动手
- 提供 2-3 个方案让用户选择
- 在写代码前先用自然语言描述实现思路

---

## 🔧 技术决策记录

### 为什么选择 FastAPI？
- 原生支持异步
- 自动生成 OpenAPI 文档
- 类型安全（Pydantic）

### 为什么使用 LocalStorage？
- 单用户 MVP 完全够用
- 无需后端数据库，降低复杂度
- 响应速度快

### 为什么使用 Zustand？
- 轻量级（~1KB）
- 比 Redux 简单很多
- 适合小型项目

### 为什么豆包 + 阿里云双引擎？
- 提高可用性
- 30秒超时自动切换
- 成本可控

---

## 📞 联系信息

- **产品负责人**：James
- **开发模式**：Claude Code 多角色协作
- **最后更新**：2026-01-20

---

**下次继续工作时**：
1. 先读取 `QUICK_START.md`
2. 查看 `_shared/00_project_status.md`
3. 根据优先级分配任务
