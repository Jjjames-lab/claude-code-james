# 伴读 - 产品开发任务清单

**创建日期**：2026-01-28
**产品愿景**：慢下来，深思考
**设计原则**：克制、温暖、宁静、尊重

---

## ✅ 已完成任务（7/30）

### P0：像素级 UI/UX 优化
- [x] 1. 创建设计系统 CSS 文件 ✅
- [x] 2. 优化所有文案 ✅
- [x] 3. 实现 LocalStorage 持久化 ✅
- [x] 4. 创建历史记录功能 ✅
- [x] 5. 优化播放器 UI/UX ✅
- [x] 6. 优化逐字稿页面 UI/UX ✅
- [x] 7. 优化章节页面 UI/UX ✅

**关键成果**：
- 建立全新设计系统 v3.0（宁静陪伴）
- 解决页面刷新数据丢失问题
- 实现历史记录功能
- 优化所有核心页面的视觉和交互

---

## 📋 待完成任务（23/30）

### P1：核心功能（高优先级）

#### 8. 创建笔记系统 UI 组件
**描述**：完整的笔记功能，让用户可以记录想法
**时间估计**：5-7 天
**功能**：
- NotePanel 主面板
- NoteInput 弹窗输入
- NoteItem 笔记卡片
- 选中文字浮现"添加笔记"按钮
- 时间戳跳转功能
- 编辑、删除笔记
- 数据持久化

#### 9. 实现书签功能 UI
**描述**：快速标记音频片段，方便回访
**时间估计**：2-3 天
**功能**：
- 播放器添加书签按钮
- 标记当前位置
- 自动获取附近文字
- 进度条显示书签标记
- 书签列表展示
- 点击跳转、删除

#### 10. 实现 Highlights 自动提取功能
**描述**：AI 自动识别播客中的金句和高光片段
**时间估计**：3-4 天
**功能**：
- 后端 API（POST /api/highlights）
- HighlightsPanel 展示组件
- 金句卡片
- 一键跳转播放
- 一键复制文字
- 数据持久化

#### 11. 实现全文搜索功能
**描述**：在逐字稿中搜索关键词
**时间估计**：2-3 天
**功能**：
- SearchBar 搜索栏
- 实时搜索
- 高亮匹配文字
- 显示上下文
- 点击跳转播放
- 快捷键支持（Cmd+K）

#### 12. 实现导出功能
**描述**：导出逐字稿为 Markdown/PDF
**时间估计**：3-4 天
**功能**：
- ExportMenu 导出菜单
- Markdown 导出
- PDF 导出
- 纯文本导出
- 导出选项（包含时间戳/笔记）

---

### P2：体验优化（中优先级）

#### 13. 实现键盘快捷键
**描述**：提升操作效率
**时间估计**：1-2 天
**功能**：
- 空格：播放/暂停
- 左右箭头：快退/快进 5秒
- 上下箭头：音量 +/- 10%
- ?：显示快捷键帮助
- Esc：关闭弹窗
- Cmd/Ctrl + K：打开搜索
- N：新建笔记
- B：添加书签
- 快捷键帮助面板

#### 14. 性能优化 - 虚拟列表
**描述**：优化长播客性能
**时间估计**：2-3 天
**功能**：
- 使用 react-virtuoso
- 只渲染可见区域
- 支持 1000+ 段落
- 滚动流畅（60fps）
- 功能保留（自动滚动、点击跳转）

#### 15. 优化加载状态 UI
**描述**：让等待变得宁静
**时间估计**：2-3 天
**功能**：
- 转录进度页面优化
- 章节生成加载优化
- AI 优化加载优化
- 通用加载组件
- 缓慢的呼吸灯动画（3秒）
- 预计剩余时间
- 温和的提示文案

#### 16. 优化错误状态 UI
**描述**：温和的错误提示
**时间估计**：2-3 天
**功能**：
- 网络错误处理
- API 错误处理
- 解析错误处理
- 温和的图标
- 不责怪用户的文案
- 给出解决方案

#### 17. 优化空状态 UI
**描述**：温暖的邀请
**时间估计**：2-3 天
**功能**：
- 历史记录空状态
- 笔记空状态
- 书签空状态
- Highlights 空状态
- 安静的图标
- 温暖的文案
- 充足的留白

---

### P3：功能完善（低优先级）

#### 18. 创建快捷键帮助面板
**描述**：让用户快速了解快捷键
**时间估计**：1 天
**功能**：
- KeyboardHelp 组件
- ? 键触发
- 分类展示
- 搜索功能

#### 19. 实现播放位置记忆功能
**描述**：完善播放位置记忆
**时间估计**：1-2 天
**功能**：
- 自动保存（已实现）
- 恢复播放（已实现）
- 进度显示优化
- 继续播放按钮
- UI 优化

#### 20. 创建欢迎页优化
**描述**：优化欢迎页视觉和文案
**时间估计**：2-3 天
**功能**：
- 增加留白
- 简化功能介绍
- 优化输入框样式
- 文案优化
- 历史入口优化

#### 21. 实现数据备份和恢复功能
**描述**：让用户可以安全地备份和恢复数据
**时间估计**：2-3 天
**功能**：
- ExportData 导出数据
- ImportData 导入数据
- JSON 格式
- 数据验证
- 安全性检查

#### 22. 创建设置页面
**描述**：让用户自定义产品
**时间估计**：3-4 天
**功能**：
- SettingsPage 主页面
- 通用设置（主题、字体）
- 播放设置（速度、快进时长）
- 数据管理（导出、导入、清空）
- 关于页面

#### 23. 实现主题切换功能
**描述**：支持深色/浅色主题
**时间估计**：2-3 天
**功能**：
- 深色主题（默认）
- 浅色主题
- 自动跟随系统
- ThemeProvider 上下文
- ThemeSwitcher 切换组件
- 所有组件适配

#### 24. 实现移动端基础适配
**描述**：支持移动设备
**时间估计**：3-4 天
**功能**：
- 响应式设计
- 布局适配
- 触控优化
- 性能优化
- 移动端特有功能
- 测试

---

## 📊 任务统计

### 按优先级
- **P0（像素级 UI/UX 优化）**：7/7 完成 ✅
- **P1（核心功能）**：0/5 完成
- **P2（体验优化）**：0/5 完成
- **P3（功能完善）**：0/7 完成

### 按类型
- **UI/UX 优化**：7/7 完成 ✅
- **核心功能**：0/5 完成
- **性能优化**：0/1 完成
- **功能完善**：0/6 完成

### 时间估计
- **已完成**：约 10-14 天
- **待完成**：约 50-70 天
- **总计**：约 60-84 天（2-3 个月）

---

## 🎯 下一步行动

### 立即开始（本周）
1. **创建笔记系统 UI 组件**（P1，最高优先级）
   - 这是核心学习功能
   - 用户强烈需要
   - 体现产品价值

### 本月完成（2 月）
2. **实现书签功能 UI**（P1）
3. **实现 Highlights 自动提取功能**（P1）
4. **实现全文搜索功能**（P1）
5. **实现导出功能**（P1）

### 下月完成（3 月）
6. **体验优化**（P2）
   - 键盘快捷键
   - 性能优化
   - 加载/错误/空状态 UI

### 后续规划（4 月+）
7. **功能完善**（P3）
   - 设置页面
   - 主题切换
   - 移动端适配

---

## 💡 开发原则

1. **质量优先**：不追求速度，每个任务都要深入、仔细、避免 bug
2. **反思验证**：每个任务反复验证 5 次，确保符合产品愿景
3. **像素级优化**：UI/UX 要像素级打磨
4. **用户体验**：所有功能都要从用户角度思考
5. **产品愿景**：始终记住"慢下来，深思考"

---

## 📝 备注

- 所有任务都需要深入思考和反思
- 每个任务完成后要更新文档
- 遇到问题及时记录和解决
- 保持代码质量和可维护性
- 定期回顾和调整优先级

---

**最后更新**：2026-01-28
**下次回顾**：完成 P1 核心功能后（预计 2 月底）
