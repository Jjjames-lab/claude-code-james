<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRISM - ä½ çš„å¤šç»´è§†è§’åŠ©æ‰‹</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #141414;
            --bg-tertiary: #1a1a1a;
            --text-primary: #f5f5f5;
            --text-secondary: #888;
            --text-muted: #555;
            --accent-calm: #7b8cde;
            --accent-pm: #de7b7b;
            --accent-time: #7bdec4;
            --accent-cross: #c87bde;
            --accent-critique: #dede7b;
            --accent-match: #deb87b;
            --border: #2a2a2a;
            --glow-calm: rgba(123, 140, 222, 0.3);
            --glow-pm: rgba(222, 123, 123, 0.3);
            --glow-time: rgba(123, 222, 196, 0.3);
            --glow-cross: rgba(200, 123, 222, 0.3);
            --glow-critique: rgba(222, 222, 123, 0.3);
            --glow-match: rgba(222, 184, 123, 0.3);
        }

        body {
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Ambient background */
        .ambient-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(123, 140, 222, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(200, 123, 222, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(123, 222, 196, 0.05) 0%, transparent 70%);
            pointer-events: none;
        }

        /* Header */
        .header {
            padding: 24px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .prism-icon {
            width: 36px;
            height: 36px;
            position: relative;
        }

        .prism-icon svg {
            width: 100%;
            height: 100%;
        }

        .logo-text {
            font-family: 'Noto Serif SC', serif;
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 0.5em;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tagline {
            font-size: 11px;
            color: var(--text-muted);
            letter-spacing: 0.3em;
            text-transform: uppercase;
        }

        /* Main layout */
        .main-container {
            display: grid;
            grid-template-columns: 1fr 380px;
            min-height: calc(100vh - 85px);
        }

        /* Left panel - Input & Response */
        .content-panel {
            padding: 40px;
            display: flex;
            flex-direction: column;
        }

        /* Capture input area */
        .capture-area {
            margin-bottom: 32px;
        }

        .input-label {
            font-size: 11px;
            color: var(--text-muted);
            letter-spacing: 0.2em;
            text-transform: uppercase;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .input-label::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, var(--border), transparent);
        }

        .capture-input {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            min-height: 120px;
            color: var(--text-primary);
            font-size: 15px;
            line-height: 1.7;
            resize: none;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .capture-input:focus {
            outline: none;
            border-color: var(--text-muted);
            box-shadow: 0 0 40px rgba(255,255,255,0.02);
        }

        .capture-input::placeholder {
            color: var(--text-muted);
        }

        .input-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
        }

        .platform-tags {
            display: flex;
            gap: 8px;
        }

        .platform-tag {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .platform-tag:hover, .platform-tag.active {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-color: var(--text-muted);
        }

        .submit-btn {
            padding: 12px 32px;
            background: var(--text-primary);
            color: var(--bg-primary);
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.1em;
        }

        .submit-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 24px rgba(255,255,255,0.15);
        }

        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Perspective Selector */
        .perspective-selector {
            margin-bottom: 40px;
        }

        .perspective-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .perspective-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .perspective-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .perspective-card:hover {
            transform: translateY(-2px);
            border-color: var(--text-muted);
        }

        .perspective-card.active {
            border-color: transparent;
        }

        .perspective-card.active::before {
            opacity: 1;
        }

        .perspective-card[data-perspective="calm"].active::before {
            background: var(--accent-calm);
        }
        .perspective-card[data-perspective="pm"].active::before {
            background: var(--accent-pm);
        }
        .perspective-card[data-perspective="time"].active::before {
            background: var(--accent-time);
        }
        .perspective-card[data-perspective="cross"].active::before {
            background: var(--accent-cross);
        }
        .perspective-card[data-perspective="critique"].active::before {
            background: var(--accent-critique);
        }
        .perspective-card[data-perspective="match"].active::before {
            background: var(--accent-match);
        }

        .perspective-card[data-perspective="calm"].active {
            box-shadow: 0 0 30px var(--glow-calm);
        }
        .perspective-card[data-perspective="pm"].active {
            box-shadow: 0 0 30px var(--glow-pm);
        }
        .perspective-card[data-perspective="time"].active {
            box-shadow: 0 0 30px var(--glow-time);
        }
        .perspective-card[data-perspective="cross"].active {
            box-shadow: 0 0 30px var(--glow-cross);
        }
        .perspective-card[data-perspective="critique"].active {
            box-shadow: 0 0 30px var(--glow-critique);
        }
        .perspective-card[data-perspective="match"].active {
            box-shadow: 0 0 30px var(--glow-match);
        }

        .perspective-icon {
            width: 32px;
            height: 32px;
            margin-bottom: 12px;
            opacity: 0.7;
        }

        .perspective-card.active .perspective-icon svg {
            transform: scale(1.1);
        }

        .perspective-icon svg {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .perspective-name {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 4px;
            transition: color 0.3s ease;
        }

        .perspective-desc {
            font-size: 11px;
            color: var(--text-secondary);
            line-height: 1.5;
            transition: color 0.3s ease;
        }

        .perspective-card[data-perspective="calm"] .perspective-name { color: #7b8cde; }
        .perspective-card[data-perspective="pm"] .perspective-name { color: #de7b7b; }
        .perspective-card[data-perspective="time"] .perspective-name { color: #7bdec4; }
        .perspective-card[data-perspective="cross"] .perspective-name { color: #c87bde; }
        .perspective-card[data-perspective="critique"] .perspective-name { color: #dede7b; }
        .perspective-card[data-perspective="match"] .perspective-name { color: #deb87b; }

        /* Response Area */
        .response-area {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .response-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .response-title {
            font-size: 13px;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .response-title span {
            color: var(--text-muted);
        }

        .response-active-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .response-active-badge.calm { background: rgba(123, 140, 222, 0.15); color: #7b8cde; }
        .response-active-badge.pm { background: rgba(222, 123, 123, 0.15); color: #de7b7b; }
        .response-active-badge.time { background: rgba(123, 222, 196, 0.15); color: #7bdec4; }
        .response-active-badge.cross { background: rgba(200, 123, 222, 0.15); color: #c87bde; }
        .response-active-badge.critique { background: rgba(222, 222, 123, 0.15); color: #dede7b; }
        .response-active-badge.match { background: rgba(222, 184, 123, 0.15); color: #deb87b; }

        .response-content {
            flex: 1;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
            line-height: 1.8;
            font-size: 15px;
            color: var(--text-secondary);
            overflow-y: auto;
            transition: all 0.3s ease;
        }

        .response-content.empty {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-size: 13px;
            letter-spacing: 0.1em;
        }

        .response-content.highlight {
            animation: highlightPulse 0.6s ease;
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 0 rgba(123, 140, 222, 0.4); }
            50% { box-shadow: 0 0 40px 10px rgba(123, 140, 222, 0.2); }
            100% { box-shadow: 0 0 0 0 rgba(123, 140, 222, 0); }
        }

        /* Right panel - Profile & Collections */
        .side-panel {
            background: var(--bg-secondary);
            border-left: 1px solid var(--border);
            padding: 32px;
            overflow-y: auto;
        }

        .profile-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 11px;
            color: var(--text-muted);
            letter-spacing: 0.2em;
            text-transform: uppercase;
            margin-bottom: 20px;
        }

        /* User Portrait */
        .user-portrait {
            text-align: center;
            padding: 24px;
            background: var(--bg-tertiary);
            border-radius: 16px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .user-portrait::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(123, 140, 222, 0.08) 0%, transparent 50%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .portrait-avatar {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-calm), var(--accent-cross));
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            position: relative;
            z-index: 1;
            box-shadow: 0 8px 32px rgba(123, 140, 222, 0.3);
        }

        .portrait-name {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 4px;
            position: relative;
            z-index: 1;
        }

        .portrait-role {
            font-size: 12px;
            color: var(--text-secondary);
            position: relative;
            z-index: 1;
        }

        .portrait-avatar {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-calm), var(--accent-cross));
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .portrait-name {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .portrait-role {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* User Traits */
        .traits-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 16px;
        }

        .trait-tag {
            padding: 6px 12px;
            background: var(--bg-primary);
            border-radius: 20px;
            font-size: 11px;
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        /* Collection Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .stat-card {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }

        .stat-number {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 11px;
            color: var(--text-secondary);
        }

        /* Recent Collections */
        .collections-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .collection-item {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .collection-item:hover {
            border-color: var(--border);
            transform: translateX(4px);
        }

        .collection-item.related {
            border-left: 2px solid var(--accent-match);
        }

        .collection-source {
            font-size: 10px;
            color: var(--text-muted);
            letter-spacing: 0.1em;
            text-transform: uppercase;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .collection-title {
            font-size: 13px;
            line-height: 1.5;
            color: var(--text-secondary);
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .collection-tags {
            display: flex;
            gap: 6px;
        }

        .collection-tag {
            font-size: 10px;
            padding: 3px 8px;
            background: var(--bg-primary);
            border-radius: 10px;
            color: var(--text-muted);
        }

        /* Goal Section */
        .goal-section {
            margin-top: 32px;
            padding: 20px;
            background: var(--bg-tertiary);
            border-radius: 12px;
            border-left: 2px solid var(--accent-time);
        }

        .goal-label {
            font-size: 10px;
            color: var(--text-muted);
            letter-spacing: 0.2em;
            text-transform: uppercase;
            margin-bottom: 8px;
        }

        .goal-text {
            font-size: 13px;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.4s ease forwards;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .thinking {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .thinking-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--text-muted);
            animation: pulse 1.4s infinite ease-in-out;
        }

        .thinking-dot:nth-child(2) { animation-delay: 0.2s; }
        .thinking-dot:nth-child(3) { animation-delay: 0.4s; }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr;
            }

            .side-panel {
                border-left: none;
                border-top: 1px solid var(--border);
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }
    </style>
</head>
<body>
    <div class="ambient-bg"></div>

    <header class="header">
        <div class="logo">
            <div class="prism-icon">
                <svg viewBox="0 0 36 36" fill="none">
                    <defs>
                        <linearGradient id="prismGrad" x1="0%" y1="0%" x2="36%" y2="36%">
                            <stop offset="0%" stop-color="#7b8cde"/>
                            <stop offset="50%" stop-color="#c87bde"/>
                            <stop offset="100%" stop-color="#7bdec4"/>
                        </linearGradient>
                    </defs>
                    <path d="M18 2L2 12v12l16 10 16-10V12L18 2z" fill="url(#prismGrad)" opacity="0.9"/>
                    <path d="M18 2v20L2 12M18 2v20l16-8M18 22l-16-10M18 22l16-10" stroke="rgba(255,255,255,0.3)" stroke-width="0.5"/>
                </svg>
            </div>
            <div>
                <div class="logo-text">PRISM</div>
                <div class="tagline">Your Perspective Assistant</div>
            </div>
        </div>
    </header>

    <div class="main-container">
        <div class="content-panel">
            <!-- Capture Area -->
            <div class="capture-area">
                <div class="input-label">Capture Anything</div>
                <textarea
                    class="capture-input"
                    id="captureInput"
                    placeholder="åˆ†äº«ä»»ä½•å†…å®¹ï¼šé“¾æ¥ã€æ–‡å­—ã€æƒ³æ³•ã€å›°æƒ‘...&#10;&#10;æˆ‘ä¼šç”¨å¤šé‡è§†è§’å¸®ä½ åˆ†æã€è¿æ¥ã€è§„åˆ’"
                ></textarea>
                <div class="input-actions">
                    <div class="platform-tags">
                        <span class="platform-tag active" data-platform="all">å…¨éƒ¨</span>
                        <span class="platform-tag" data-platform="x">X / Twitter</span>
                        <span class="platform-tag" data-platform="redbook">å°çº¢ä¹¦</span>
                        <span class="platform-tag" data-platform="wechat">å¾®ä¿¡å…¬ä¼—å·</span>
                        <span class="platform-tag" data-platform="youtube">YouTube</span>
                    </div>
                    <button class="submit-btn" id="submitBtn">å‘é€</button>
                </div>
            </div>

            <!-- Perspective Selector -->
            <div class="perspective-selector">
                <div class="input-label">Perspective</div>
                <div class="perspective-grid" id="perspectiveGrid">
                    <div class="perspective-card active" data-perspective="calm">
                        <div class="perspective-icon">
                            <svg viewBox="0 0 32 32" fill="none">
                                <circle cx="16" cy="16" r="12" stroke="#7b8cde" stroke-width="1.5"/>
                                <path d="M16 8v8l5 3" stroke="#7b8cde" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="perspective-name">å†·é™çš„ä½ </div>
                        <div class="perspective-desc">å®¢è§‚ã€æ¸©å’Œï¼Œä¸è¯„åˆ¤ä½ çš„æƒ…ç»ª</div>
                    </div>
                    <div class="perspective-card" data-perspective="pm">
                        <div class="perspective-icon">
                            <svg viewBox="0 0 32 32" fill="none">
                                <rect x="4" y="8" width="24" height="18" rx="2" stroke="#de7b7b" stroke-width="1.5"/>
                                <path d="M4 14h24M10 20h4" stroke="#de7b7b" stroke-width="1.5"/>
                            </svg>
                        </div>
                        <div class="perspective-name">äº§å“ç»ç† James</div>
                        <div class="perspective-desc">ç”¨æˆ·ä»·å€¼ã€åœºæ™¯ã€æ ¸å¿ƒé—®é¢˜</div>
                    </div>
                    <div class="perspective-card" data-perspective="time">
                        <div class="perspective-icon">
                            <svg viewBox="0 0 32 32" fill="none">
                                <circle cx="16" cy="16" r="12" stroke="#7bdec4" stroke-width="1.5"/>
                                <path d="M16 6v10l7 7" stroke="#7bdec4" stroke-width="1.5" stroke-linecap="round"/>
                                <circle cx="16" cy="16" r="3" fill="#7bdec4"/>
                            </svg>
                        </div>
                        <div class="perspective-name">æ—¶é—´æ—…è€…</div>
                        <div class="perspective-desc">5å¹´åçš„ä½ ä¼šæ€ä¹ˆçœ‹è¿™ä»¶äº‹ï¼Ÿ</div>
                    </div>
                    <div class="perspective-card" data-perspective="cross">
                        <div class="perspective-icon">
                            <svg viewBox="0 0 32 32" fill="none">
                                <path d="M4 16h24M16 4v24" stroke="#c87bde" stroke-width="1.5"/>
                                <circle cx="16" cy="16" r="6" stroke="#c87bde" stroke-width="1.5"/>
                                <circle cx="16" cy="16" r="10" stroke="#c87bde" stroke-width="1.5" stroke-dasharray="2 4"/>
                            </svg>
                        </div>
                        <div class="perspective-name">è·¨å­¦ç§‘è¿æ¥è€…</div>
                        <div class="perspective-desc">å‘ç°ä¸åŒé¢†åŸŸçš„éšè—å…³è”</div>
                    </div>
                    <div class="perspective-card" data-perspective="critique">
                        <div class="perspective-icon">
                            <svg viewBox="0 0 32 32" fill="none">
                                <path d="M4 4l24 24M12 12l4 4M8 16l8 8" stroke="#dede7b" stroke-width="1.5" stroke-linecap="round"/>
                                <circle cx="20" cy="8" r="4" stroke="#dede7b" stroke-width="1.5"/>
                            </svg>
                        </div>
                        <div class="perspective-name">çº¢é˜Ÿæ‰¹åˆ¤è€…</div>
                        <div class="perspective-desc">å¯»æ‰¾ç›²ç‚¹ï¼Œé¢„è§é£é™©</div>
                    </div>
                    <div class="perspective-card" data-perspective="match">
                        <div class="perspective-icon">
                            <svg viewBox="0 0 32 32" fill="none">
                                <polygon points="16,4 20,12 28,12 22,18 24,26 16,22 8,26 10,18 4,12 12,12" stroke="#deb87b" stroke-width="1.5"/>
                                <circle cx="16" cy="16" r="4" stroke="#deb87b" stroke-width="1.5"/>
                            </svg>
                        </div>
                        <div class="perspective-name">æ”¶è—åŒ¹é…å™¨</div>
                        <div class="perspective-desc">è¿æ¥ä½ çš„è¿‡å»ä¸ç°åœ¨</div>
                    </div>
                </div>
            </div>

            <!-- Response Area -->
            <div class="response-area">
                <div class="response-header">
                    <div class="response-title">
                        <span id="activePerspectiveLabel">å†·é™çš„ä½ </span>
                        <span>çš„åˆ†æ</span>
                    </div>
                </div>
                <div class="response-content empty" id="responseContent">
                    <span>åˆ†äº«ä¸€äº›å†…å®¹ï¼Œé€‰æ‹©è§†è§’ï¼Œå¼€å§‹å¯¹è¯</span>
                </div>
            </div>
        </div>

        <div class="side-panel">
            <!-- User Profile -->
            <div class="profile-section">
                <div class="section-title">ä½ çš„ç”»åƒ</div>
                <div class="user-portrait">
                    <div class="portrait-avatar">J</div>
                    <div class="portrait-name">James</div>
                    <div class="portrait-role">äº§å“ç»ç†</div>
                    <div class="traits-list" id="traitsList">
                        <span class="trait-tag">è§†è§‰æ•æ„Ÿ</span>
                        <span class="trait-tag">ç¢ç‰‡å­¦ä¹ è€…</span>
                        <span class="trait-tag">å†…çœå‹</span>
                        <span class="trait-tag">è¿æ¥å‹æ€ç»´</span>
                    </div>
                </div>
            </div>

            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="collectionCount">12</div>
                    <div class="stat-label">å·²æ”¶è—</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="perspectiveCount">6</div>
                    <div class="stat-label">è§†è§’</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="connectionCount">8</div>
                    <div class="stat-label">å…³è”å‘ç°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="streakCount">5</div>
                    <div class="stat-label">è¿ç»­å¤©æ•°</div>
                </div>
            </div>

            <!-- Goals -->
            <div class="section-title">å½“å‰ç›®æ ‡</div>
            <div class="goal-section">
                <div class="goal-label">é•¿æœŸç›®æ ‡</div>
                <div class="goal-text">æˆä¸ºé¡¶å°–äº§å“ç»ç†ï¼Œæ‰“é€ æœ‰å½±å“åŠ›çš„äº§å“ï¼Œå½±å“åƒä¸‡ç”¨æˆ·</div>
            </div>
            <div class="goal-section" style="margin-top: 16px; border-left-color: var(--accent-pm);">
                <div class="goal-label">çŸ­æœŸç›®æ ‡</div>
                <div class="goal-text">Q1å®ŒæˆPRISM MVPï¼Œå­¦ä¹ AIäº§å“è®¾è®¡æ–¹æ³•è®º</div>
            </div>

            <!-- Recent Collections -->
            <div style="margin-top: 32px;">
                <div class="section-title">æœ€è¿‘æ”¶è—</div>
                <div class="collections-list" id="collectionsList">
                    <div class="collection-item">
                        <div class="collection-source">
                            <span>ğŸ“±</span> X / Twitter Â· 2å°æ—¶å‰
                        </div>
                        <div class="collection-title">Sam Altmanï¼šAIäº§å“è®¾è®¡çš„äº”ä¸ªæ ¸å¿ƒåŸåˆ™</div>
                        <div class="collection-tags">
                            <span class="collection-tag">AIäº§å“</span>
                            <span class="collection-tag">è®¾è®¡æ€ç»´</span>
                        </div>
                    </div>
                    <div class="collection-item">
                        <div class="collection-source">
                            <span>ğŸ“•</span> å°çº¢ä¹¦ Â· 1å¤©å‰
                        </div>
                        <div class="collection-title">æç®€UIè®¾è®¡æŒ‡å—ï¼šç•™ç™½çš„è‰ºæœ¯</div>
                        <div class="collection-tags">
                            <span class="collection-tag">UIè®¾è®¡</span>
                            <span class="collection-tag">ç¾å­¦</span>
                        </div>
                    </div>
                    <div class="collection-item">
                        <div class="collection-source">
                            <span>ğŸ“„</span> å…¬ä¼—å· Â· 3å¤©å‰
                        </div>
                        <div class="collection-title">äº§å“ç»ç†çš„è‡ªæˆ‘ä¿®å…»ï¼šä»æ‰§è¡Œåˆ°æˆ˜ç•¥</div>
                        <div class="collection-tags">
                            <span class="collection-tag">PMæˆé•¿</span>
                            <span class="collection-tag">æˆ˜ç•¥æ€ç»´</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Related Collections -->
            <div style="margin-top: 32px; display: none;" id="relatedSection">
                <div class="section-title">ç›¸å…³æ¨è</div>
                <div class="collections-list" id="relatedList">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // State
        const state = {
            currentPerspective: 'calm',
            currentPlatform: 'all',
            collections: [],
            isThinking: false
        };

        // Perspective responses (mock AI responses)
        const perspectiveResponses = {
            calm: `æˆ‘ç†è§£ä½ åˆ†äº«è¿™ä¸ªå†…å®¹æ—¶çš„å¿ƒæƒ…ã€‚

è®©æˆ‘å…ˆè¯´ä¸€ä»¶é‡è¦çš„äº‹ï¼š**ä½ çš„æ„Ÿå—æ˜¯åˆç†çš„**ã€‚æ— è®ºè¿™ä¸ªå†…å®¹è®©ä½ äº§ç”Ÿäº†ä»€ä¹ˆæ ·çš„æƒ…ç»ªâ€”â€”å…´å¥‹ã€å›°æƒ‘ã€ç„¦è™‘ã€è¿˜æ˜¯æ€€ç–‘â€”â€”è¿™äº›éƒ½æ˜¯æ­£å¸¸çš„ååº”ã€‚

ä»æˆ‘çš„è§‚å¯Ÿæ¥çœ‹ï¼š
- ä½ çš„è§†è§‰æ•æ„Ÿåº¦è®©ä½ ç‰¹åˆ«å®¹æ˜“è¢«ç¾å­¦æ‰“åŠ¨
- ä½ çš„ç¢ç‰‡å­¦ä¹ ä¹ æƒ¯æ„å‘³ç€ä½ éœ€è¦åœ¨å¤šä¸ªå¹³å°é—´è·³è·ƒ
- ä½ å¯¹"å…³è”"çš„æ¸´æœ›è¯´æ˜ä½ åœ¨å¯»æ‰¾æ„ä¹‰

**æˆ‘çš„å»ºè®®æ˜¯**ï¼š
ä¸è¦æ€¥äº"å­¦ä¼š"æ‰€æœ‰ä¸œè¥¿ã€‚å…ˆé—®è‡ªå·±ï¼šè¿™ä¸€åˆ»çš„æˆ‘ï¼Œæœ€éœ€è¦å“ªä¸ªè§†è§’ï¼Ÿ

å¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ï¼š
1. ä½ ç°åœ¨æœ€æƒ³è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ
2. ä½ å¯¹å“ªä¸ªæ–¹å‘æœ€æ„Ÿå…´è¶£ï¼Ÿ

æˆ‘ä¼šåœ¨è¿™é‡Œé™ªä½ æ¢³ç†ã€‚`,

            pm: `è®©æˆ‘ç”¨äº§å“ç»ç†çš„è§†è§’æ¥æ‹†è§£è¿™ä¸ªå†…å®¹ã€‚

**ç”¨æˆ·ä»·å€¼åˆ†æ**ï¼š
- ç›®æ ‡ç”¨æˆ·æ˜¯è°ï¼Ÿ
- ä»–ä»¬æœ€ç—›çš„ç—›ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ
- è¿™ä¸ªå†…å®¹è§£å†³çš„æ ¸å¿ƒéœ€æ±‚æ˜¯ï¼Ÿ

**åœºæ™¯è¿˜åŸ**ï¼š
- ç”¨æˆ·åœ¨ä»€ä¹ˆæƒ…å¢ƒä¸‹ä¼šæ¥è§¦åˆ°è¿™äº›ä¿¡æ¯ï¼Ÿ
- ä»–ä»¬ä¼šèŠ±å¤šå°‘æ—¶é—´ï¼Ÿ
- æœŸæœ›è·å¾—ä»€ä¹ˆå›æŠ¥ï¼Ÿ

**æ ¸å¿ƒé—®é¢˜æç‚¼**ï¼š
- å¦‚æœè¦ç”¨ä¸€å¥è¯æ€»ç»“ï¼Œè¿™ä¸ªå†…å®¹åœ¨å›ç­”ä»€ä¹ˆé—®é¢˜ï¼Ÿ
- æœ‰æ²¡æœ‰æ›´å¥½çš„è¡¨è¾¾æ–¹å¼ï¼Ÿ

**å¯æ‰§è¡Œçš„ä¸‹ä¸€æ­¥**ï¼š
1. éªŒè¯ï¼šå…ˆå°èŒƒå›´æµ‹è¯•ä½ çš„ç†è§£
2. æ²‰æ·€ï¼šæ‰¾åˆ°3ä¸ªæœ€è§¦åŠ¨ä½ çš„ç‚¹
3. è¾“å‡ºï¼šç”¨ä½ è‡ªå·±çš„è¯å¤è¿°ä¸€é`,

            time: `è®©æˆ‘å¸¦ä½ ç©¿è¶Šåˆ°ä¸åŒçš„æ—¶é—´èŠ‚ç‚¹...

**ç°åœ¨ï¼ˆPresentï¼‰**ï¼š
ä½ æ­£åœ¨è¢«è¿™ä¸ªå†…å®¹å¸å¼•ã€‚å¾ˆå¥½ï¼Œè¯´æ˜å®ƒè§¦åŠ¨äº†ä½ æŸäº›ä¸œè¥¿ã€‚

**5å¹´åï¼ˆFutureï¼‰**ï¼š
å¦‚æœä½ æŒç»­åœ¨è¿™ä¸ªæ–¹å‘æ·±è€•ï¼Œ5å¹´åçš„ä½ ä¼šæ„Ÿè°¢ä»Šå¤©çš„ä»€ä¹ˆå†³å®šï¼Ÿ
- å¯èƒ½æ˜¯ä¸€ä¸ªæœˆåï¼Œä½ å·²ç»èƒ½è‡ªå¦‚è¿ç”¨è¿™äº›æ¦‚å¿µ
- å¯èƒ½æ˜¯ä¸€å¹´åï¼Œä½ å·²ç»å»ºç«‹äº†è¿™ä¸ªé¢†åŸŸçš„çŸ¥è¯†ä½“ç³»
- å¯èƒ½æ˜¯äº”å¹´åï¼Œä½ å·²ç»æˆä¸ºè¿™ä¸ªé¢†åŸŸçš„ä¸“å®¶

**å›æº¯è¿‡å»ï¼ˆPastï¼‰**ï¼š
å¦‚æœ3å¹´å‰çš„ä½ çŸ¥é“è¿™äº›ï¼Œä»–ä¼šåšä»€ä¹ˆï¼Ÿ
- ä»–ä¼šå¯æƒœè‡ªå·±ä¸ºä»€ä¹ˆæ²¡æ—©ç‚¹çœ‹åˆ°
- ä»–ä¼šç«‹åˆ»è¡ŒåŠ¨ï¼Œä¸ä¼šç­‰å¾…"å‡†å¤‡å¥½"

**è¡ŒåŠ¨å»ºè®®**ï¼š
å¦‚æœåªèƒ½åšä¸€ä»¶äº‹ï¼Œç°åœ¨å°±åšã€‚æ˜¯ä»€ä¹ˆï¼Ÿ`,

            cross: `è®©æˆ‘ç”¨è·¨å­¦ç§‘çš„é€é•œæ¥çœ‹çœ‹...

**ç‰©ç†å­¦è§†è§’**ï¼š
è¿™ä¸ªæ¦‚å¿µéµå¾ªä»€ä¹ˆ"å®šå¾‹"ï¼Ÿæœ‰æ²¡æœ‰èƒ½é‡å®ˆæ’ã€ä¿¡æ¯ç†µçš„éšå–»ï¼Ÿ

**ç”Ÿç‰©å­¦è§†è§’**ï¼š
å¦‚æœæŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªæœ‰æœºä½“ï¼Œå®ƒçš„"åŸºå› "æ˜¯ä»€ä¹ˆï¼Ÿ"çªå˜"åœ¨å“ªé‡Œï¼Ÿ

**ç»æµå­¦è§†è§’**ï¼š
ä¾›éœ€å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿè¾¹é™…æˆæœ¬å’Œè¾¹é™…æ”¶ç›Šå¦‚ä½•ï¼Ÿ

**å¿ƒç†å­¦è§†è§’**ï¼š
å®ƒè§¦å‘äº†ä»€ä¹ˆè®¤çŸ¥åè§ï¼Ÿç¡®è®¤åè¯¯ï¼Ÿé”šå®šæ•ˆåº”ï¼Ÿ

**ç¾å­¦è§†è§’**ï¼š
å®ƒçš„"ä¼˜é›…"åœ¨å“ªé‡Œï¼Ÿå¤æ‚æ€§ä¸­çš„ç®€æ´ï¼Ÿ

**è¿æ¥å‘ç°**ï¼š
è¿™å’Œä½ 1æœˆ15æ—¥æ”¶è—çš„"äº§å“è®¾è®¡å¿ƒç†å­¦"æœ‰å…³è”â€”â€”å®ƒä»¬éƒ½åœ¨æ¢è®¨è®¤çŸ¥å¦‚ä½•å½±å“å†³ç­–ã€‚`,

            critique: `è®©æˆ‘æ‰®æ¼”çº¢é˜Ÿï¼Œæ¥æ‰¾æ‰¾ç›²ç‚¹...

**æ½œåœ¨é£é™©**ï¼š
- è¿™ä¸ªç»“è®ºæ˜¯å¦è¿‡äºç®€åŒ–ï¼Ÿ
- æœ‰æ²¡æœ‰åä¾‹è¢«å¿½ç•¥äº†ï¼Ÿ
- é€‚ç”¨è¾¹ç•Œåœ¨å“ªé‡Œï¼Ÿ

**ç›²ç‚¹æ£€æµ‹**ï¼š
- ä½ æ˜¯å¦å› ä¸º"å¬èµ·æ¥å¯¹"å°±æ¥å—äº†ï¼Ÿ
- æ˜¯å¦æœ‰åˆ©ç›Šç›¸å…³æ–¹çš„ç«‹åœºè¢«æ©ç›–äº†ï¼Ÿ
- è¿™ä¸ªè§†è§’æ˜¯å¦åªçœ‹åˆ°äº†ä¸€é¢ï¼Ÿ

**é¢„è¨€æ€§åé©³**ï¼š
- å¦‚æœé”™äº†ï¼Œåæœæ˜¯ä»€ä¹ˆï¼Ÿ
- æœ€åæƒ…å†µèƒ½å¦æ‰¿å—ï¼Ÿ
- æœ‰æ²¡æœ‰"Plan B"ï¼Ÿ

**æ‰¹åˆ¤æ€§å»ºè®®**ï¼š
ä¿æŒæ€€ç–‘ï¼Œä½†ä¸è¦è¿‡åº¦æ€€ç–‘ã€‚**ç›¸ä¿¡è¯æ®ï¼Œä½†ä¹Ÿè¦çŸ¥é“è¯æ®ä¼šæ›´æ–°**ã€‚`,

            match: `æˆ‘å‘ç°äº†ä¸€äº›æœ‰è¶£çš„è¿æ¥...

**å†å²åŒ¹é…**ï¼š
ä½ åœ¨1æœˆ20æ—¥åˆ†äº«è¿‡"äº§å“è¥é”€ç­–ç•¥"ï¼Œä»Šå¤©çš„è¿™ä¸ªå†…å®¹å®é™…ä¸Šæ˜¯å®ƒçš„**åº•å±‚é€»è¾‘**ã€‚

**å…³è”å¼ºåº¦**ï¼šâ­â­â­â­â­

**æ¨èå›é¡¾**ï¼š
â†’ "äº§å“ç»ç†çš„ç¬¬ä¸€æ€§åŸç†"ï¼ˆ1æœˆ18æ—¥ï¼‰
â†’ "ç”¨æˆ·å¿ƒç†ç”»åƒæ„å»ºæ³•"ï¼ˆ1æœˆ15æ—¥ï¼‰

**ä¸ºä»€ä¹ˆè¿™ä¸ªé‡è¦**ï¼š
è¿™äº›å†…å®¹æ„æˆäº†ä¸€ä¸ªçŸ¥è¯†æ¨¡å—ï¼šç”¨æˆ·ç†è§£ â†’ éœ€æ±‚æ´å¯Ÿ â†’ ä»·å€¼åˆ›é€  â†’ è¥é”€ä¼ è¾¾

**å»ºè®®è¡ŒåŠ¨**ï¼š
å¯ä»¥æŠŠå®ƒä»¬æ•´ç†æˆä¸€ä¸ª"ä¸»é¢˜åˆé›†"ï¼Œå½¢æˆä½ çš„çŸ¥è¯†èµ„äº§ã€‚`
        };

        const perspectiveNames = {
            calm: 'å†·é™çš„ä½ ',
            pm: 'äº§å“ç»ç† James',
            time: 'æ—¶é—´æ—…è€…',
            cross: 'è·¨å­¦ç§‘è¿æ¥è€…',
            critique: 'çº¢é˜Ÿæ‰¹åˆ¤è€…',
            match: 'æ”¶è—åŒ¹é…å™¨'
        };

        // DOM Elements
        const captureInput = document.getElementById('captureInput');
        const submitBtn = document.getElementById('submitBtn');
        const perspectiveGrid = document.getElementById('perspectiveGrid');
        const responseContent = document.getElementById('responseContent');
        const activePerspectiveLabel = document.getElementById('activePerspectiveLabel');
        const platformTags = document.querySelectorAll('.platform-tag');
        const relatedSection = document.getElementById('relatedSection');
        const relatedList = document.getElementById('relatedList');

        // Initialize
        function init() {
            loadFromStorage();
            setupEventListeners();
            renderCollections();
        }

        // Load from localStorage
        function loadFromStorage() {
            const saved = localStorage.getItem('prism_data');
            if (saved) {
                const data = JSON.parse(saved);
                state.collections = data.collections || [];
                updateStats();
            }
        }

        // Save to localStorage
        function saveToStorage() {
            localStorage.setItem('prism_data', JSON.stringify({
                collections: state.collections
            }));
        }

        // Setup event listeners
        function setupEventListeners() {
            // Perspective selection
            perspectiveGrid.addEventListener('click', (e) => {
                const card = e.target.closest('.perspective-card');
                if (card) {
                    document.querySelectorAll('.perspective-card').forEach(c => c.classList.remove('active'));
                    card.classList.add('active');
                    state.currentPerspective = card.dataset.perspective;
                    activePerspectiveLabel.textContent = perspectiveNames[state.currentPerspective];
                    updateResponse();
                }
            });

            // Platform tags
            platformTags.forEach(tag => {
                tag.addEventListener('click', () => {
                    platformTags.forEach(t => t.classList.remove('active'));
                    tag.classList.add('active');
                    state.currentPlatform = tag.dataset.platform;
                });
            });

            // Submit button
            submitBtn.addEventListener('click', handleSubmit);

            // Enter key to submit (with Cmd/Ctrl)
            captureInput.addEventListener('keydown', (e) => {
                if ((e.metaKey || e.ctrlKey) && e.key === 'Enter') {
                    handleSubmit();
                }
            });
        }

        // Handle submit
        function handleSubmit() {
            const content = captureInput.value.trim();
            if (!content || state.isThinking) return;

            // Save collection
            const collection = {
                id: Date.now(),
                content: content,
                platform: state.currentPlatform,
                perspective: state.currentPerspective,
                timestamp: new Date().toISOString(),
                tags: extractTags(content)
            };

            state.collections.unshift(collection);
            saveToStorage();

            // Show thinking
            showThinking();

            // Simulate AI response delay
            setTimeout(() => {
                hideThinking();
                updateResponse(collection);
                renderCollections();
                updateStats();
                checkRelated(collection);
            }, 1500 + Math.random() * 1000);
        }

        // Extract tags from content
        function extractTags(content) {
            const tagPatterns = [
                /#(\w+)/g,
                /ã€([^ã€‘]+)ã€‘/g,
                /ã€Œ([^ã€]+)ã€/g
            ];

            const tags = new Set();
            tagPatterns.forEach(pattern => {
                let match;
                while ((match = pattern.exec(content)) !== null) {
                    tags.add(match[1]);
                }
            });

            // Add some default tags based on content
            if (content.includes('äº§å“')) tags.add('äº§å“');
            if (content.includes('AI') || content.includes('äººå·¥æ™ºèƒ½')) tags.add('AI');
            if (content.includes('è®¾è®¡')) tags.add('è®¾è®¡');
            if (content.includes('å­¦ä¹ ')) tags.add('å­¦ä¹ ');

            return Array.from(tags).slice(0, 4);
        }

        // Show thinking animation
        function showThinking() {
            state.isThinking = true;
            submitBtn.disabled = true;
            responseContent.classList.remove('empty');
            responseContent.innerHTML = `
                <div class="thinking" style="justify-content: center; padding: 40px;">
                    <div class="thinking-dot"></div>
                    <div class="thinking-dot"></div>
                    <div class="thinking-dot"></div>
                </div>
            `;
        }

        // Hide thinking
        function hideThinking() {
            state.isThinking = false;
            submitBtn.disabled = false;
        }

        // Update response content
        function updateResponse(collection = null) {
            const perspective = state.currentPerspective;
            let response = perspectiveResponses[perspective];

            // If there's a real collection, personalize the response
            if (collection) {
                response = response.replace('è¿™ä¸ªå†…å®¹', 'ä½ åˆ†äº«çš„å†…å®¹');
                if (collection.tags && collection.tags.length > 0) {
                    response = response.replace('è¿™äº›æ¦‚å¿µ', `"${collection.tags.join('"ã€"')}"ç›¸å…³æ¦‚å¿µ`);
                }
            }

            responseContent.innerHTML = `<div class="fade-in">${formatResponse(response)}</div>`;
        }

        // Format response with rich content
        function formatResponse(text) {
            // Convert line breaks to paragraphs
            let formatted = text.split('\n\n').map(p => `<p style="margin-bottom: 16px;">${p}</p>`).join('');

            // Highlight key terms
            formatted = formatted.replace(/\*\*(.+?)\*\*/g, '<strong style="color: var(--text-primary);">$1</strong>');

            // Highlight questions
            formatted = formatted.replace(/([^\ã€‚\ï¼Ÿ])\?/g, '$1?<br>');

            return formatted;
        }

        // Render collections list
        function renderCollections() {
            const collectionsList = document.getElementById('collectionsList');
            const recentCollections = state.collections.slice(0, 5);

            if (recentCollections.length === 0) {
                collectionsList.innerHTML = '<div style="text-align: center; color: var(--text-muted); padding: 20px; font-size: 12px;">è¿˜æ²¡æœ‰æ”¶è—ï¼Œå¼€å§‹åˆ†äº«å§</div>';
                return;
            }

            collectionsList.innerHTML = recentCollections.map(item => `
                <div class="collection-item" onclick="loadCollection(${item.id})">
                    <div class="collection-source">
                        <span>${getPlatformIcon(item.platform)}</span>
                        ${getPlatformName(item.platform)} Â· ${formatTime(item.timestamp)}
                    </div>
                    <div class="collection-title">${escapeHtml(item.content.substring(0, 80))}${item.content.length > 80 ? '...' : ''}</div>
                    <div class="collection-tags">
                        ${item.tags.slice(0, 3).map(tag => `<span class="collection-tag">${tag}</span>`).join('')}
                    </div>
                </div>
            `).join('');
        }

        // Load a specific collection
        function loadCollection(id) {
            const collection = state.collections.find(c => c.id === id);
            if (collection) {
                captureInput.value = collection.content;
                // Switch to match perspective to show connections
                document.querySelectorAll('.perspective-card').forEach(c => c.classList.remove('active'));
                document.querySelector('[data-perspective="match"]').classList.add('active');
                state.currentPerspective = 'match';
                activePerspectiveLabel.textContent = perspectiveNames['match'];
                updateResponse(collection);
                checkRelated(collection);
            }
        }

        // Check for related collections
        function checkRelated(collection) {
            const related = state.collections.filter(c =>
                c.id !== collection.id && (
                    c.tags.some(tag => collection.tags.includes(tag)) ||
                    c.content.includes(collection.content.substring(0, 20))
                )
            ).slice(0, 3);

            if (related.length > 0) {
                relatedSection.style.display = 'block';
                relatedList.innerHTML = related.map(item => `
                    <div class="collection-item related" onclick="loadCollection(${item.id})">
                        <div class="collection-source">
                            <span>ğŸ”—</span> å…³è”å‘ç° Â· ${formatTime(item.timestamp)}
                        </div>
                        <div class="collection-title">${escapeHtml(item.content.substring(0, 60))}...</div>
                        <div class="collection-tags">
                            ${item.tags.slice(0, 2).map(tag => `<span class="collection-tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                `).join('');
            } else {
                relatedSection.style.display = 'none';
            }
        }

        // Update stats
        function updateStats() {
            document.getElementById('collectionCount').textContent = state.collections.length;

            // Calculate connections
            let connections = 0;
            for (let i = 0; i < Math.min(state.collections.length, 10); i++) {
                const item = state.collections[i];
                if (state.collections.filter(c =>
                    c.id !== item.id &&
                    c.tags.some(tag => item.tags.includes(tag))
                ).length > 0) {
                    connections++;
                }
            }
            document.getElementById('connectionCount').textContent = connections;
        }

        // Utility functions
        function getPlatformIcon(platform) {
            const icons = {
                x: 'ğ•',
                redbook: 'ğŸ“•',
                wechat: 'ğŸ“„',
                youtube: 'ğŸ“º',
                all: 'ğŸŒ'
            };
            return icons[platform] || 'ğŸ“';
        }

        function getPlatformName(platform) {
            const names = {
                x: 'X / Twitter',
                redbook: 'å°çº¢ä¹¦',
                wechat: 'å¾®ä¿¡å…¬ä¼—å·',
                youtube: 'YouTube',
                all: 'å…¨éƒ¨'
            };
            return names[platform] || 'å…¶ä»–';
        }

        function formatTime(timestamp) {
            const date = new Date(timestamp);
            const now = new Date();
            const diff = now - date;

            if (diff < 60000) return 'åˆšåˆš';
            if (diff < 3600000) return `${Math.floor(diff / 60000)}åˆ†é’Ÿå‰`;
            if (diff < 86400000) return `${Math.floor(diff / 3600000)}å°æ—¶å‰`;
            if (diff < 604800000) return `${Math.floor(diff / 86400000)}å¤©å‰`;

            return date.toLocaleDateString('zh-CN');
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Initialize on load
        init();
    </script>
</body>
</html>
